<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embliss - Join the Beta | Mental Wellness Companion</title>
    <meta name="description" content="Join the Embliss beta. Your companion for mental wellness - FREE Platinum access until Dec 31, 2025.">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #1E3A5F;
            background: linear-gradient(135deg, #1E3A5F 0%, #4A90E2 50%, #F5A623 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 60px 20px 40px;
        }
        
        .logo {
            font-family: Georgia, 'Times New Roman', serif;
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #F5A623 0%, #4A90E2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }
        
        .tagline {
            font-size: 1.3rem;
            color: white;
            font-weight: 300;
            margin-bottom: 60px;
            font-style: italic;
        }
        
        .hero-section {
            text-align: center;
            margin: 60px 0;
        }
        
        .hero-title {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 20px;
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            color: #F5A623;
            margin-bottom: 40px;
        }
        
        .hero-btn {
            display: inline-block;
            background: linear-gradient(135deg, #F5A623 0%, #4A90E2 100%);
            color: white;
            padding: 25px 50px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.8rem;
            box-shadow: 0 10px 40px rgba(245, 166, 35, 0.6);
            animation: heartbeat 1.5s infinite;
            border: 3px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: transform 0.3s;
            text-decoration: none;
        }
        
        .hero-btn:hover {
            transform: scale(1.08);
        }
        
        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 10px 40px rgba(245, 166, 35, 0.6);
            }
            14% {
                transform: scale(1.05);
                box-shadow: 0 10px 50px rgba(245, 166, 35, 0.8);
            }
            28% {
                transform: scale(1);
                box-shadow: 0 10px 40px rgba(245, 166, 35, 0.6);
            }
            42% {
                transform: scale(1.05);
                box-shadow: 0 10px 50px rgba(74, 144, 226, 0.8);
            }
            56% {
                transform: scale(1);
                box-shadow: 0 10px 40px rgba(245, 166, 35, 0.6);
            }
        }
        
        .benefits-section {
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            margin: 60px 0;
            box-shadow: 0 10px 40px rgba(30, 58, 95, 0.1);
        }
        
        .section-title {
            font-size: 2.5rem;
            color: #1E3A5F;
            text-align: center;
            margin-bottom: 50px;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .benefit-card {
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            background: #F5F9FF;
            transition: transform 0.3s;
        }
        
        .benefit-card:hover {
            transform: translateY(-5px);
        }
        
        .benefit-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }
        
        .benefit-title {
            font-size: 1.3rem;
            color: #1E3A5F;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .benefit-text {
            color: #4A90E2;
            line-height: 1.6;
        }
        
        .coming-soon-badge {
            display: inline-block;
            background: #F5A623;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 10px;
        }
        
        .signup-section {
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            margin: 60px 0;
            box-shadow: 0 10px 40px rgba(30, 58, 95, 0.1);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            color: #1E3A5F;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        input[type="email"],
        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #E3F2FD;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="email"]:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: #4A90E2;
        }
        
        .os-selection {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .os-btn {
            flex: 1;
            padding: 20px;
            border: 3px solid #E3F2FD;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1E3A5F;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #ios-btn {
            border-color: #F5A623;
        }
        
        #android-btn {
            border-color: #4A90E2;
        }
        
        .os-btn svg {
            width: 24px;
            height: 24px;
        }
        
        .os-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 58, 95, 0.2);
        }
        
        #ios-btn:hover {
            background: #FFF8E7;
            border-color: #F5A623;
        }
        
        #android-btn:hover {
            background: #F5F9FF;
            border-color: #4A90E2;
        }
        
        #ios-btn.selected {
            border-color: #F5A623;
            background: linear-gradient(135deg, #F5A623 0%, #FFA500 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(245, 166, 35, 0.4);
        }
        
        #android-btn.selected {
            border-color: #4A90E2;
            background: linear-gradient(135deg, #4A90E2 0%, #1E3A5F 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(74, 144, 226, 0.4);
        }
        
        .submit-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #4A90E2 0%, #1E3A5F 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .success-message {
            display: none;
            padding: 20px;
            background: #D4EDDA;
            color: #155724;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .error-message {
            display: none;
            padding: 20px;
            background: #F8D7DA;
            color: #721C24;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }
        
        footer {
            text-align: center;
            padding: 40px 20px;
            color: white;
        }
        
        @media (max-width: 768px) {
            .logo {
                font-size: 2.5rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            .hero-btn {
                padding: 20px 40px;
                font-size: 1.3rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .signup-section {
                padding: 40px 20px;
            }
            
            .os-selection {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Embliss</div>
            <p class="tagline">Embrace the bliss within.</p>
        </header>

        <div class="hero-section">
            <h2 class="hero-title">Your Companion for Mental Wellness</h2>
            <p class="hero-subtitle">Get FREE Platinum Access Until December 31, 2025</p>
            <button class="hero-btn" onclick="document.getElementById('signup').scrollIntoView({ behavior: 'smooth', block: 'center' }); return false;">
                🎉 Now Accepting Beta Testers
            </button>
        </div>

        <section class="benefits-section">
            <h2 class="section-title">Why Beta Testers Love Embliss</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">🧘‍♀️</div>
                    <h3 class="benefit-title">Mood Tracking</h3>
                    <p class="benefit-text">Track your emotional patterns and understand what affects your wellbeing</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">✍️</div>
                    <h3 class="benefit-title">Smart Journaling</h3>
                    <p class="benefit-text">AI-guided prompts help you process emotions and gain clarity</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">🤖</div>
                    <h3 class="benefit-title">AI Companion</h3>
                    <p class="benefit-text">24/7 support when you need someone to talk to</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">💊</div>
                    <h3 class="benefit-title">Med Reminders</h3>
                    <p class="benefit-text">Never miss a dose with smart medication tracking</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">📊</div>
                    <h3 class="benefit-title">Progress Insights</h3>
                    <p class="benefit-text">Visualize your growth and celebrate wins</p>
                    <span class="coming-soon-badge">Coming Soon</span>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">🌙</div>
                    <h3 class="benefit-title">Guided Meditations</h3>
                    <p class="benefit-text">Calm your mind with expert-led sessions</p>
                    <span class="coming-soon-badge">Coming Soon</span>
                </div>
            </div>
        </section>

        <section class="signup-section" id="signup">
            <h2 class="section-title">Join the Beta</h2>
            <form id="signup-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" required placeholder="Your name">
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required placeholder="your@email.com">
                </div>
                
                <div class="form-group">
                    <label>Select Your Device</label>
                    <div class="os-selection">
                        <button type="button" class="os-btn" id="ios-btn">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                            </svg>
                            iOS
                        </button>
                        <button type="button" class="os-btn" id="android-btn">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24c-2.86-1.21-6.08-1.21-8.94 0L5.65 5.67c-.19-.28-.54-.37-.83-.22-.3.16-.42.54-.26.85l1.84 3.18C4.77 10.88 3.5 12.91 3.5 15.17h17c0-2.26-1.27-4.29-2.9-5.69zM7 13.33c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm10 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/>
                            </svg>
                            Android
                        </button>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" id="submit-btn">
                    Join Beta Waitlist
                </button>
                
                <div class="success-message" id="success-message"></div>
                <div class="error-message" id="error-message"></div>
            </form>
        </section>

        <footer>
            <p>&copy; 2025 Embliss. All rights reserved.</p>
            <p style="font-style: italic;">Embrace the bliss within.</p>
        </footer>
    </div>

    <script>
        const SUPABASE_URL = 'https://eitdeeyscjgmyeccvrpi.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpdGRlZXlzY2pnbXllY2N2cnBpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4MTI3NzgsImV4cCI6MjA3NTM4ODc3OH0.0vVK7WKnUQ6GKwVSBS-MqY4pk2FdPSDLG6_-jmfjbd8';
        const CONVERTKIT_API_KEY = '8nTRkHH95E15r-oBCvCYDg';
        const CONVERTKIT_FORM_ID = '7408743';

        // Wait for page to load
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('signup-form');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const iosBtn = document.getElementById('ios-btn');
            const androidBtn = document.getElementById('android-btn');
            const submitBtn = document.getElementById('submit-btn');
            const successMsg = document.getElementById('success-message');
            const errorMsg = document.getElementById('error-message');

            let selectedOS = null;

            // Auto-detect OS
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                selectedOS = 'ios';
                iosBtn.classList.add('selected');
            } else if (/android/i.test(userAgent)) {
                selectedOS = 'android';
                androidBtn.classList.add('selected');
            }

            // Manual OS selection
            iosBtn.addEventListener('click', function() {
                selectedOS = 'ios';
                iosBtn.classList.add('selected');
                androidBtn.classList.remove('selected');
            });

            androidBtn.addEventListener('click', function() {
                selectedOS = 'android';
                androidBtn.classList.add('selected');
                iosBtn.classList.remove('selected');
            });

            // Form submission
            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                const name = nameInput.value.trim();
                const email = emailInput.value.trim();

                if (!name || !email || !selectedOS) {
                    showError('Please fill in all fields and select your device type.');
                    return;
                }

                submitBtn.disabled = true;
                submitBtn.textContent = 'Saving...';

                try {
                    // Save to Supabase
                    const supabaseResponse = await fetch(`${SUPABASE_URL}/rest/v1/beta_signups`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'apikey': SUPABASE_ANON_KEY,
                            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
                            'Prefer': 'return=minimal'
                        },
                        body: JSON.stringify({
                            name: name,
                            email: email,
                            operating_system: selectedOS,
                            signup_source: 'landing_page'
                        })
                    });

                    if (!supabaseResponse.ok) {
                        throw new Error('Failed to save to database');
                    }

                    // Send to ConvertKit
                    const convertkitResponse = await fetch(`https://api.convertkit.com/v3/forms/${CONVERTKIT_FORM_ID}/subscribe`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            api_key: CONVERTKIT_API_KEY,
                            email: email,
                            first_name: name,
                            tags: [selectedOS === 'ios' ? 'ios_beta' : 'android_beta']
                        })
                    });

                    if (!convertkitResponse.ok) {
                        console.warn('ConvertKit failed, but Supabase succeeded');
                    }

                    // Show success
                    form.style.display = 'none';
                    successMsg.style.display = 'block';
                    successMsg.textContent = `✅ Success! Check your email (${email}) for next steps. You'll receive your beta invite within 7 days.`;

                } catch (error) {
                    console.error('Error:', error);
                    showError('Something went wrong. Please try again or email support@emblisswellness.com');
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Join Beta Waitlist';
                }
            });

            function showError(message) {
                errorMsg.textContent = message;
                errorMsg.style.display = 'block';
                setTimeout(() => {
                    errorMsg.style.display = 'none';
                }, 5000);
            }
        });
    </script>
</body>
</html>
